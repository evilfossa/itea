<!--     
    Для задания 3 создать метод, позволяющий отсортировать массив сотрудников по одному из свойств: 
    name, sName, age, occupation, salary.
    Параметр для сортировки принимается от пользователя. После выполнения функции — вывести информацию о сотрудниках.
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script type="text/javascript">

        // Создаем пустой массив
        var array = [];

        // Создаем глобальную переменную n для ответа пользователя
        var n;

        // Создаем глобальную переменную sort для выбора сортировки
        var sort;

        // Функция которая будет спрашивать пользователя хочет ли он добавить сотрудника
        function ask() {
            n = confirm("Хотите добавить сотрудника?");
        };

        // Функция которая будет спрашивать пользователя хочет ли отсортировать массив
        function askSort() {
            m = confirm("Хотите отсортировать массив?");
        };

        // Создаем функцию fill, которая будет заполнять обьект данными, получаемыми от пользователя
        function fill() {
            obj.name = prompt("Введите ваше имя: ");
            obj.sName = prompt("Введите вашу фамилию: ");
            obj.age = prompt("Введите ваш возраст: ");
            obj.occupation = prompt("Введите вашу должность: ");
        };

        // Создаем функцию salary, которая будет проверять зарплату сотрудника
        function salary(occupation) {

            if (occupation == "Director" || occupation == "director" || occupation == "Директор" || occupation == "директор") {
                obj.salary = 3000 + " USD";
                return;
            }

            else if (occupation == "Manager" || occupation == "manager" || occupation == "Менеджер" || occupation == "менеджер") {
                obj.salary = 1500 + " USD";
                return;
            }

            else if (occupation == "Programmer" || occupation == "programmer" || occupation == "Программист" || occupation == "программист") {
                obj.salary = 2000 + " USD";
                return;
            }

            else {
                obj.salary = 1000 + " USD";
                return;
            }
        }

        // Создаем функцию sort которая будет принимать значение от пользовтеля и делать сортировку ао его выбору
        function sort() {
            
            sort = prompt("По какому параметру вы хотите отсортировать массив? \nName \nSurname \nAge \nOccupation \nSalary \nСделайте ваш выбор.")
            
            if (sort == "Name") {
                const sortedByName = array.sort(function (a, b) {
                    if (a.name > b.name) {
                        return 1;
                    }
                    else {
                        return -1;
                    }
                });
            }

            else if (sort == "Surname") {
                const sortedBySname = array.sort(function (a, b) {
                    if (a.sName > b.sName) {
                        return 1;
                    }
                    else {
                        return -1;
                    }
                });
            }

            else if (sort == "Age") {
                const sortedByAge = array.sort(function (a, b) {
                    return a.age - b.age;
                });
            }

            else if (sort == "Occupation") {
                const sortedByOccupation = array.sort(function (a, b) {
                    if (a.occupation > b.occupation) {
                        return 1;
                    }
                    else {
                        return -1;
                    }
                });
            }

            else if (sort == "Salary") {
                const sortedBySalary = array.sort(function (a, b) {
                    return a.salary - b.salary;
                });
            }

            else {
                alert("Sort error");
            }
        }

        // Вызиваем функцию ask
        ask();

        // Используем while для непрерывного ввода пользователей
        while (n == true) {
            // Создаем цикл, который будет принимать информацию от пользователя и выводить ее на экран
            for (var i = 0; i < 1; i++) {
                // Создаем обьект
                var obj = {
                    name: " ",
                    sName: " ",
                    age: " ",
                    occupation: " ",
                    salary: " ",
                    // Создаем метод show, который выведет нам информацию на экран
                    show: function () {
                        document.write("Имя: " + obj.name + "<br>Фамилия: " + obj.sName + "<br>Возраст: " + obj.age + "<br>Должность: " + obj.occupation + "<br>Зарплата: " + obj.salary + "<br><br>");
                    }
                }
                // Вызываем метод fill
                fill();
                // Вызываем функцию проверки зарплаты
                salary(obj.occupation);
                // Отправляем обьект в массив
                array.push(obj);
                // Вызиваем метод show
                // array[i].show();
            }
            // Вызиваем функцию ask 
            ask();
        }

        // Вызываем функцию askSort
        askSort();

        // Если true то запускаем функцию sort
        if (m == true) {
            // Вызываем метод sort
            sort();
        }
        else { 

        }

        // Выводим результат на экран и в консоль
        for (var i = 0; i < array.length; i++) {
            document.write("Имя: " + array[i].name + "<br>Фамилия: " + array[i].sName + "<br>Возраст: " + array[i].age + "<br>Должность: " + array[i].occupation + "<br>Зарплата: " + array[i].salary + "<br><br>");
            console.log(array[i]);
        }

    </script>
</body>

</html>