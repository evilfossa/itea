<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Constructors</title>
</head>

<body>
  <div class="wrap"></div>
  <script>
    /*
  
      Задание:
  
      Написать функцию конструктор, которая будет иметь приватные и публичные свойства.
      Публичные методы должны вызывать приватные.
  
      Рассмотрим на примере планеты:
  
        - На вход принимаются параметр Имя планеты.
  
        Создается новый обьект, который имеет публичные методы и свойства:
        - name (передается через конструктор)
        - population ( randomPopulation());
        - rotatePlanet(){
          let randomNumber = Math.floor(Math.random() * (1000 - 1 + 1)) + 1;
          if ( (randomNumber % 2) == 0) {
            growPopulation();
          } else {
            Cataclysm();
          }
        }
  
        Приватное свойство:
        populationMultiply - случайное число от 1 до 10;
  
        Приватные методы
        randomPopulation -> Возвращает случайное целое число от 1.000 до 10.000
        growPopulation() {
          функция которая берет приватное свойство populationMultiply
          которое равняется случайному числу от 1 до 10 и умножает его на 100.
          Дальше, число которое вышло добавляет к популяции и выводит в консоль сообщение,
          что за один цикл прибавилось столько населения на планете .
        }
        Cataclysm(){
          Рандомим число от 1 до 10 и умножаем его на 250;
          То число которое получили, отнимаем от популяции.
          В консоль выводим сообщение - от катаклизма погибло Х человек на планете.
        }
  
    */

    function Planet(name) {
      this.name = name;

      let randomPopulation = () => {
        return Math.floor(Math.random() * (1000 - 1 + 1)) + 1;
      }

      let population = randomPopulation();

      let growPopulation = () => {
        let populationMultiply = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
        let newPopulation = populationMultiply * 100;
        console.log(`Популяция состравляет ${population} человек.`);
        population += newPopulation;
        console.log(`Популяция была увеличена на ${newPopulation} человек и теперь на ${name} живет ${population} человек.`);
      }

      let cataclysm = () => {
        let populationMultiply = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
        let newPopulation = populationMultiply * 250;
        console.log(`Популяция состравляет ${population} человек.`);
        population -= newPopulation;
        if (population < 0) {
          console.error(`Никто не выжил`);
        } else {
          console.warn(`От катаклизма погибло ${newPopulation} человек. К счастью на ${name} выжило ${population} человек.`);
        }
      }

      this.rotatePlanet = () => {
        let randomNumber = Math.floor(Math.random() * (1000 - 1 + 1)) + 1;
        if ((randomNumber % 2) == 0) {
          growPopulation();
        } else {
          cataclysm();
        }
      }
    }

    let earth = new Planet('Earth');
    console.log(earth);
    earth.rotatePlanet();

  </script>
</body>

</html>